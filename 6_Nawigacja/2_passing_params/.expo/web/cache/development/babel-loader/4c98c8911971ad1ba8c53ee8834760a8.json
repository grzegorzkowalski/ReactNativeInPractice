{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { StatusBar } from \"expo-status-bar\";\nimport React, { useEffect, useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar API_URL = \"https://goquotes-api.herokuapp.com/api/v1/all/authors\";\nexport default function App(_ref) {\n  var navigation = _ref.navigation,\n    route = _ref.route;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    authors = _useState2[0],\n    setAuthors = _useState2[1];\n  useEffect(function () {\n    (function _callee() {\n      var request, data;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(fetch(API_URL));\n            case 3:\n              request = _context.sent;\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(request.json());\n            case 6:\n              data = _context.sent;\n              setAuthors(data.authors);\n              _context.next = 13;\n              break;\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(_context.t0);\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 10]], Promise);\n    })();\n  }, []);\n  var renderItem = function renderItem(_ref2) {\n    var item = _ref2.item;\n    return _jsx(View, {\n      style: styles.item,\n      children: _jsx(Text, {\n        style: styles.title,\n        children: item.name\n      })\n    });\n  };\n  return _jsxs(SafeAreaView, {\n    style: styles.container,\n    children: [_jsx(View, {\n      style: styles.topBar\n    }), _jsx(StatusBar, {}), !authors.length ? _jsx(View, {\n      style: styles.container,\n      children: _jsx(ActivityIndicator, {})\n    }) : _jsx(FlatList, {\n      style: {\n        flex: 1,\n        width: \"100%\"\n      },\n      data: authors,\n      renderItem: renderItem,\n      keyExtractor: function keyExtractor(item) {\n        return item.name;\n      }\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  item: {\n    flex: 1,\n    padding: 15\n  }\n});","map":{"version":3,"names":["StatusBar","React","useEffect","useState","API_URL","App","navigation","route","authors","setAuthors","fetch","request","json","data","console","error","renderItem","item","styles","title","name","container","topBar","length","flex","width","StyleSheet","create","padding"],"sources":["D:/szkolenia/ReactNativewPraktyce_12_14_12_2022/ReactNativeInPractice/6_Nawigacja/2_passing_params/components/Authors.js"],"sourcesContent":["import { StatusBar } from \"expo-status-bar\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport {\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  FlatList,\r\n  ActivityIndicator,\r\n  SafeAreaView,\r\n  Button,\r\n} from \"react-native\";\r\n\r\nconst API_URL = \"https://goquotes-api.herokuapp.com/api/v1/all/authors\";\r\n\r\nexport default function App({navigation, route}) {\r\n  const [authors, setAuthors] = useState([]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const request = await fetch(API_URL);\r\n        const data = await request.json();\r\n        setAuthors(data.authors);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  const renderItem = ({ item }) => (\r\n    <View style={styles.item}>\r\n      \r\n      <Text style={styles.title}>{item.name}</Text>\r\n    </View>\r\n  );\r\n\r\n  return (\r\n    <SafeAreaView style={styles.container}>\r\n      <View style={styles.topBar}></View>\r\n      <StatusBar />\r\n      {!authors.length ? (\r\n        <View style={styles.container}>\r\n          <ActivityIndicator />\r\n        </View>\r\n      ) : (\r\n        <FlatList\r\n          style={{ flex: 1, width: \"100%\" }}\r\n          data={authors}\r\n          renderItem={renderItem}\r\n          keyExtractor={(item) => item.name}\r\n        />\r\n      )}\r\n    </SafeAreaView>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n  },\r\n  item: {\r\n    flex: 1,\r\n    padding: 15\r\n  },\r\n});\r\n"],"mappings":";;AAAA,SAASA,SAAS,QAAQ,iBAAiB;AAC3C,OAAOC,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWnD,IAAMC,OAAO,GAAG,uDAAuD;AAEvE,eAAe,SAASC,GAAG,OAAsB;EAAA,IAApBC,UAAU,QAAVA,UAAU;IAAEC,KAAK,QAALA,KAAK;EAC5C,gBAA8BJ,QAAQ,CAAC,EAAE,CAAC;IAAA;IAAnCK,OAAO;IAAEC,UAAU;EAE1BP,SAAS,CAAC,YAAM;IACd,CAAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA;cAAA,iCAEyBQ,KAAK,CAACN,OAAO,CAAC;YAAA;cAA9BO,OAAO;cAAA;cAAA,iCACMA,OAAO,CAACC,IAAI,EAAE;YAAA;cAA3BC,IAAI;cACVJ,UAAU,CAACI,IAAI,CAACL,OAAO,CAAC;cAAC;cAAA;YAAA;cAAA;cAAA;cAEzBM,OAAO,CAACC,KAAK,aAAO;YAAC;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAExB,GAAG;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMC,UAAU,GAAG,SAAbA,UAAU;IAAA,IAAMC,IAAI,SAAJA,IAAI;IAAA,OACxB,KAAC,IAAI;MAAC,KAAK,EAAEC,MAAM,CAACD,IAAK;MAAA,UAEvB,KAAC,IAAI;QAAC,KAAK,EAAEC,MAAM,CAACC,KAAM;QAAA,UAAEF,IAAI,CAACG;MAAI;IAAQ,EACxC;EAAA,CACR;EAED,OACE,MAAC,YAAY;IAAC,KAAK,EAAEF,MAAM,CAACG,SAAU;IAAA,WACpC,KAAC,IAAI;MAAC,KAAK,EAAEH,MAAM,CAACI;IAAO,EAAQ,EACnC,KAAC,SAAS,KAAG,EACZ,CAACd,OAAO,CAACe,MAAM,GACd,KAAC,IAAI;MAAC,KAAK,EAAEL,MAAM,CAACG,SAAU;MAAA,UAC5B,KAAC,iBAAiB;IAAG,EAChB,GAEP,KAAC,QAAQ;MACP,KAAK,EAAE;QAAEG,IAAI,EAAE,CAAC;QAAEC,KAAK,EAAE;MAAO,CAAE;MAClC,IAAI,EAAEjB,OAAQ;MACd,UAAU,EAAEQ,UAAW;MACvB,YAAY,EAAE,sBAACC,IAAI;QAAA,OAAKA,IAAI,CAACG,IAAI;MAAA;IAAC,EAErC;EAAA,EACY;AAEnB;AAEA,IAAMF,MAAM,GAAGQ,UAAU,CAACC,MAAM,CAAC;EAC/BN,SAAS,EAAE;IACTG,IAAI,EAAE;EACR,CAAC;EACDP,IAAI,EAAE;IACJO,IAAI,EAAE,CAAC;IACPI,OAAO,EAAE;EACX;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module"}