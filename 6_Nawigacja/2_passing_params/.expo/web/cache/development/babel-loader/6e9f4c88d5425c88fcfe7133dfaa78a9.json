{"ast":null,"code":"import { defineAnimation } from \"./util\";\nexport function withDelay(delayMs, _nextAnimation) {\n  'worklet';\n\n  return defineAnimation(_nextAnimation, function () {\n    'worklet';\n\n    var nextAnimation = typeof _nextAnimation === 'function' ? _nextAnimation() : _nextAnimation;\n    function delay(animation, now) {\n      var startTime = animation.startTime,\n        started = animation.started,\n        previousAnimation = animation.previousAnimation;\n      if (now - startTime > delayMs) {\n        if (!started) {\n          nextAnimation.onStart(nextAnimation, animation.current, now, previousAnimation);\n          animation.previousAnimation = null;\n          animation.started = true;\n        }\n        var finished = nextAnimation.onFrame(nextAnimation, now);\n        animation.current = nextAnimation.current;\n        return finished;\n      } else if (previousAnimation) {\n        var _finished = previousAnimation.finished || previousAnimation.onFrame(previousAnimation, now);\n        animation.current = previousAnimation.current;\n        if (_finished) {\n          animation.previousAnimation = null;\n        }\n      }\n      return false;\n    }\n    function onStart(animation, value, now, previousAnimation) {\n      animation.startTime = now;\n      animation.started = false;\n      animation.current = value;\n      if (previousAnimation === animation) {\n        animation.previousAnimation = previousAnimation.previousAnimation;\n      } else {\n        animation.previousAnimation = previousAnimation;\n      }\n    }\n    var callback = function callback(finished) {\n      if (nextAnimation.callback) {\n        nextAnimation.callback(finished);\n      }\n    };\n    return {\n      isHigherOrder: true,\n      onFrame: delay,\n      onStart: onStart,\n      current: nextAnimation.current,\n      callback: callback,\n      previousAnimation: null,\n      startTime: 0,\n      started: false\n    };\n  });\n}\nexport function delay(delayMs, _nextAnimation) {\n  'worklet';\n\n  console.warn('Method `delay` is deprecated. Please use `withDelay` instead');\n  return withDelay(delayMs, _nextAnimation);\n}","map":{"version":3,"names":["defineAnimation","withDelay","delayMs","_nextAnimation","nextAnimation","delay","animation","now","startTime","started","previousAnimation","onStart","current","finished","onFrame","value","callback","isHigherOrder","console","warn"],"sources":["D:/szkolenia/ReactNativewPraktyce_12_14_12_2022/ReactNativeInPractice/6_Nawigacja/2_passing_params/node_modules/react-native-reanimated/lib/reanimated2/animation/delay.js"],"sourcesContent":["import { defineAnimation } from './util';\nexport function withDelay(delayMs, _nextAnimation) {\n    'worklet';\n    return defineAnimation(_nextAnimation, () => {\n        'worklet';\n        const nextAnimation = typeof _nextAnimation === 'function' ? _nextAnimation() : _nextAnimation;\n        function delay(animation, now) {\n            const { startTime, started, previousAnimation } = animation;\n            if (now - startTime > delayMs) {\n                if (!started) {\n                    nextAnimation.onStart(nextAnimation, animation.current, now, previousAnimation);\n                    animation.previousAnimation = null;\n                    animation.started = true;\n                }\n                const finished = nextAnimation.onFrame(nextAnimation, now);\n                animation.current = nextAnimation.current;\n                return finished;\n            }\n            else if (previousAnimation) {\n                const finished = previousAnimation.finished ||\n                    previousAnimation.onFrame(previousAnimation, now);\n                animation.current = previousAnimation.current;\n                if (finished) {\n                    animation.previousAnimation = null;\n                }\n            }\n            return false;\n        }\n        function onStart(animation, value, now, previousAnimation) {\n            animation.startTime = now;\n            animation.started = false;\n            animation.current = value;\n            if (previousAnimation === animation) {\n                animation.previousAnimation = previousAnimation.previousAnimation;\n            }\n            else {\n                animation.previousAnimation = previousAnimation;\n            }\n        }\n        const callback = (finished) => {\n            if (nextAnimation.callback) {\n                nextAnimation.callback(finished);\n            }\n        };\n        return {\n            isHigherOrder: true,\n            onFrame: delay,\n            onStart,\n            current: nextAnimation.current,\n            callback,\n            previousAnimation: null,\n            startTime: 0,\n            started: false,\n        };\n    });\n}\n/**\n * @deprecated Kept for backward compatibility. Will be removed soon.\n */\nexport function delay(delayMs, _nextAnimation) {\n    'worklet';\n    console.warn('Method `delay` is deprecated. Please use `withDelay` instead');\n    return withDelay(delayMs, _nextAnimation);\n}\n"],"mappings":"AAAA,SAASA,eAAe;AACxB,OAAO,SAASC,SAAS,CAACC,OAAO,EAAEC,cAAc,EAAE;EAC/C,SAAS;;EACT,OAAOH,eAAe,CAACG,cAAc,EAAE,YAAM;IACzC,SAAS;;IACT,IAAMC,aAAa,GAAG,OAAOD,cAAc,KAAK,UAAU,GAAGA,cAAc,EAAE,GAAGA,cAAc;IAC9F,SAASE,KAAK,CAACC,SAAS,EAAEC,GAAG,EAAE;MAC3B,IAAQC,SAAS,GAAiCF,SAAS,CAAnDE,SAAS;QAAEC,OAAO,GAAwBH,SAAS,CAAxCG,OAAO;QAAEC,iBAAiB,GAAKJ,SAAS,CAA/BI,iBAAiB;MAC7C,IAAIH,GAAG,GAAGC,SAAS,GAAGN,OAAO,EAAE;QAC3B,IAAI,CAACO,OAAO,EAAE;UACVL,aAAa,CAACO,OAAO,CAACP,aAAa,EAAEE,SAAS,CAACM,OAAO,EAAEL,GAAG,EAAEG,iBAAiB,CAAC;UAC/EJ,SAAS,CAACI,iBAAiB,GAAG,IAAI;UAClCJ,SAAS,CAACG,OAAO,GAAG,IAAI;QAC5B;QACA,IAAMI,QAAQ,GAAGT,aAAa,CAACU,OAAO,CAACV,aAAa,EAAEG,GAAG,CAAC;QAC1DD,SAAS,CAACM,OAAO,GAAGR,aAAa,CAACQ,OAAO;QACzC,OAAOC,QAAQ;MACnB,CAAC,MACI,IAAIH,iBAAiB,EAAE;QACxB,IAAMG,SAAQ,GAAGH,iBAAiB,CAACG,QAAQ,IACvCH,iBAAiB,CAACI,OAAO,CAACJ,iBAAiB,EAAEH,GAAG,CAAC;QACrDD,SAAS,CAACM,OAAO,GAAGF,iBAAiB,CAACE,OAAO;QAC7C,IAAIC,SAAQ,EAAE;UACVP,SAAS,CAACI,iBAAiB,GAAG,IAAI;QACtC;MACJ;MACA,OAAO,KAAK;IAChB;IACA,SAASC,OAAO,CAACL,SAAS,EAAES,KAAK,EAAER,GAAG,EAAEG,iBAAiB,EAAE;MACvDJ,SAAS,CAACE,SAAS,GAAGD,GAAG;MACzBD,SAAS,CAACG,OAAO,GAAG,KAAK;MACzBH,SAAS,CAACM,OAAO,GAAGG,KAAK;MACzB,IAAIL,iBAAiB,KAAKJ,SAAS,EAAE;QACjCA,SAAS,CAACI,iBAAiB,GAAGA,iBAAiB,CAACA,iBAAiB;MACrE,CAAC,MACI;QACDJ,SAAS,CAACI,iBAAiB,GAAGA,iBAAiB;MACnD;IACJ;IACA,IAAMM,QAAQ,GAAG,SAAXA,QAAQ,CAAIH,QAAQ,EAAK;MAC3B,IAAIT,aAAa,CAACY,QAAQ,EAAE;QACxBZ,aAAa,CAACY,QAAQ,CAACH,QAAQ,CAAC;MACpC;IACJ,CAAC;IACD,OAAO;MACHI,aAAa,EAAE,IAAI;MACnBH,OAAO,EAAET,KAAK;MACdM,OAAO,EAAPA,OAAO;MACPC,OAAO,EAAER,aAAa,CAACQ,OAAO;MAC9BI,QAAQ,EAARA,QAAQ;MACRN,iBAAiB,EAAE,IAAI;MACvBF,SAAS,EAAE,CAAC;MACZC,OAAO,EAAE;IACb,CAAC;EACL,CAAC,CAAC;AACN;AAIA,OAAO,SAASJ,KAAK,CAACH,OAAO,EAAEC,cAAc,EAAE;EAC3C,SAAS;;EACTe,OAAO,CAACC,IAAI,CAAC,8DAA8D,CAAC;EAC5E,OAAOlB,SAAS,CAACC,OAAO,EAAEC,cAAc,CAAC;AAC7C"},"metadata":{},"sourceType":"module"}