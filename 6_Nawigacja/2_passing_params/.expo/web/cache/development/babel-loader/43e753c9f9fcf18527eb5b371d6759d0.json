{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { StatusBar } from \"expo-status-bar\";\nimport React, { useEffect, useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar API_URL = \"https://goquotes-api.herokuapp.com/api/v1/all\";\nexport default function Author(_ref) {\n  var navigation = _ref.navigation,\n    route = _ref.route;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    quotes = _useState2[0],\n    setQuotes = _useState2[1];\n  var author = route.params.author;\n  useEffect(function () {\n    (function _callee() {\n      var request, data;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(fetch(API_URL + \"?type=author&val=\" + author));\n            case 3:\n              request = _context.sent;\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(request.json());\n            case 6:\n              data = _context.sent;\n              setQuotes(data.quotes);\n              _context.next = 13;\n              break;\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(_context.t0);\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 10]], Promise);\n    })();\n  }, []);\n  if (!quotes) {\n    return _jsx(Text, {\n      children: \"Nic tu nie ma\"\n    });\n  }\n  return _jsx(SafeAreaView, {\n    style: styles.container,\n    children: _jsx(ScrollView, {\n      children: quotes.map(function (x, i) {\n        return _jsx(View, {\n          children: _jsx(Text, {\n            children: x.text\n          })\n        }, i);\n      })\n    })\n  });\n}\nvar styles = StyleSheet.create({});","map":{"version":3,"names":["StatusBar","React","useEffect","useState","API_URL","Author","navigation","route","quotes","setQuotes","author","params","fetch","request","json","data","console","error","styles","container","map","x","i","text","StyleSheet","create"],"sources":["D:/szkolenia/ReactNativewPraktyce_12_14_12_2022/ReactNativeInPractice/6_Nawigacja/2_passing_params/components/SingleAuthor.js"],"sourcesContent":["import { StatusBar } from \"expo-status-bar\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport {\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  FlatList,\r\n  ActivityIndicator,\r\n  SafeAreaView,\r\n  ScrollView,\r\n} from \"react-native\";\r\n\r\nconst API_URL = \"https://goquotes-api.herokuapp.com/api/v1/all\";\r\n\r\nexport default function Author({ navigation, route }) {\r\n  const [quotes, setQuotes] = useState(false);\r\n  const { author } = route.params;\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        // let author = \"Anonymous\";\r\n        const request = await fetch(`${API_URL}?type=author&val=${author}`);\r\n        const data = await request.json();\r\n        setQuotes(data.quotes);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  if (!quotes) {\r\n    return <Text>Nic tu nie ma</Text>;\r\n  }\r\n\r\n  return (\r\n    <SafeAreaView style={styles.container}>\r\n      <ScrollView>\r\n        {quotes.map((x, i) => {\r\n          return (\r\n            <View key={i}>\r\n              <Text>{x.text}</Text>\r\n            </View>\r\n          );\r\n        })}\r\n      </ScrollView>\r\n    </SafeAreaView>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({});\r\n"],"mappings":";;AAAA,SAASA,SAAS,QAAQ,iBAAiB;AAC3C,OAAOC,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWnD,IAAMC,OAAO,GAAG,+CAA+C;AAE/D,eAAe,SAASC,MAAM,OAAwB;EAAA,IAArBC,UAAU,QAAVA,UAAU;IAAEC,KAAK,QAALA,KAAK;EAChD,gBAA4BJ,QAAQ,CAAC,KAAK,CAAC;IAAA;IAApCK,MAAM;IAAEC,SAAS;EACxB,IAAQC,MAAM,GAAKH,KAAK,CAACI,MAAM,CAAvBD,MAAM;EAEdR,SAAS,CAAC,YAAM;IACd,CAAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA;cAAA,iCAGyBU,KAAK,CAAIR,OAAO,yBAAoBM,MAAM,CAAG;YAAA;cAA7DG,OAAO;cAAA;cAAA,iCACMA,OAAO,CAACC,IAAI,EAAE;YAAA;cAA3BC,IAAI;cACVN,SAAS,CAACM,IAAI,CAACP,MAAM,CAAC;cAAC;cAAA;YAAA;cAAA;cAAA;cAEvBQ,OAAO,CAACC,KAAK,aAAO;YAAC;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAExB,GAAG;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,IAAI,CAACT,MAAM,EAAE;IACX,OAAO,KAAC,IAAI;MAAA;IAAA,EAAqB;EACnC;EAEA,OACE,KAAC,YAAY;IAAC,KAAK,EAAEU,MAAM,CAACC,SAAU;IAAA,UACpC,KAAC,UAAU;MAAA,UACRX,MAAM,CAACY,GAAG,CAAC,UAACC,CAAC,EAAEC,CAAC,EAAK;QACpB,OACE,KAAC,IAAI;UAAA,UACH,KAAC,IAAI;YAAA,UAAED,CAAC,CAACE;UAAI;QAAQ,GADZD,CAAC,CAEL;MAEX,CAAC;IAAC;EACS,EACA;AAEnB;AAEA,IAAMJ,MAAM,GAAGM,UAAU,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC"},"metadata":{},"sourceType":"module"}