{"ast":null,"code":"import { defineAnimation } from \"./util\";\nexport function withRepeat(_nextAnimation) {\n  'worklet';\n\n  var numberOfReps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  var reverse = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var callback = arguments.length > 3 ? arguments[3] : undefined;\n  return defineAnimation(_nextAnimation, function () {\n    'worklet';\n\n    var nextAnimation = typeof _nextAnimation === 'function' ? _nextAnimation() : _nextAnimation;\n    function repeat(animation, now) {\n      var finished = nextAnimation.onFrame(nextAnimation, now);\n      animation.current = nextAnimation.current;\n      if (finished) {\n        animation.reps += 1;\n        if (nextAnimation.callback) {\n          nextAnimation.callback(true, animation.current);\n        }\n        if (numberOfReps > 0 && animation.reps >= numberOfReps) {\n          return true;\n        }\n        var startValue = reverse ? nextAnimation.current : animation.startValue;\n        if (reverse) {\n          nextAnimation.toValue = animation.startValue;\n          animation.startValue = startValue;\n        }\n        nextAnimation.onStart(nextAnimation, startValue, now, nextAnimation.previousAnimation);\n        return false;\n      }\n      return false;\n    }\n    var repCallback = function repCallback(finished) {\n      if (callback) {\n        callback(finished);\n      }\n      if (!finished && nextAnimation.callback) {\n        nextAnimation.callback(false);\n      }\n    };\n    function onStart(animation, value, now, previousAnimation) {\n      animation.startValue = value;\n      animation.reps = 0;\n      nextAnimation.onStart(nextAnimation, value, now, previousAnimation);\n    }\n    return {\n      isHigherOrder: true,\n      onFrame: repeat,\n      onStart: onStart,\n      reps: 0,\n      current: nextAnimation.current,\n      callback: repCallback,\n      startValue: 0\n    };\n  });\n}\nexport function repeat(_nextAnimation) {\n  'worklet';\n\n  var numberOfReps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  var reverse = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var callback = arguments.length > 3 ? arguments[3] : undefined;\n  console.warn('Method `repeat` is deprecated. Please use `withRepeat` instead');\n  return withRepeat(_nextAnimation, numberOfReps, reverse, callback);\n}\nexport function loop(nextAnimation) {\n  'worklet';\n\n  var numberOfLoops = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  console.warn('Method `loop` is deprecated. Please use `withRepeat` instead');\n  return repeat(nextAnimation, Math.round(numberOfLoops * 2), true);\n}","map":{"version":3,"names":["defineAnimation","withRepeat","_nextAnimation","numberOfReps","reverse","callback","nextAnimation","repeat","animation","now","finished","onFrame","current","reps","startValue","toValue","onStart","previousAnimation","repCallback","value","isHigherOrder","console","warn","loop","numberOfLoops","Math","round"],"sources":["D:/szkolenia/ReactNativewPraktyce_12_14_12_2022/ReactNativeInPractice/6_Nawigacja/2_passing_params/node_modules/react-native-reanimated/lib/reanimated2/animation/repeat.js"],"sourcesContent":["import { defineAnimation } from './util';\nexport function withRepeat(_nextAnimation, numberOfReps = 2, reverse = false, callback) {\n    'worklet';\n    return defineAnimation(_nextAnimation, () => {\n        'worklet';\n        const nextAnimation = typeof _nextAnimation === 'function' ? _nextAnimation() : _nextAnimation;\n        function repeat(animation, now) {\n            const finished = nextAnimation.onFrame(nextAnimation, now);\n            animation.current = nextAnimation.current;\n            if (finished) {\n                animation.reps += 1;\n                // call inner animation's callback on every repetition\n                // as the second argument the animation's current value is passed\n                if (nextAnimation.callback) {\n                    nextAnimation.callback(true /* finished */, animation.current);\n                }\n                if (numberOfReps > 0 && animation.reps >= numberOfReps) {\n                    return true;\n                }\n                const startValue = reverse\n                    ? nextAnimation.current\n                    : animation.startValue;\n                if (reverse) {\n                    nextAnimation.toValue = animation.startValue;\n                    animation.startValue = startValue;\n                }\n                nextAnimation.onStart(nextAnimation, startValue, now, nextAnimation.previousAnimation);\n                return false;\n            }\n            return false;\n        }\n        const repCallback = (finished) => {\n            if (callback) {\n                callback(finished);\n            }\n            // when cancelled call inner animation's callback\n            if (!finished && nextAnimation.callback) {\n                nextAnimation.callback(false /* finished */);\n            }\n        };\n        function onStart(animation, value, now, previousAnimation) {\n            animation.startValue = value;\n            animation.reps = 0;\n            nextAnimation.onStart(nextAnimation, value, now, previousAnimation);\n        }\n        return {\n            isHigherOrder: true,\n            onFrame: repeat,\n            onStart,\n            reps: 0,\n            current: nextAnimation.current,\n            callback: repCallback,\n            startValue: 0,\n        };\n    });\n}\n/**\n * @deprecated Kept for backward compatibility. Will be removed soon.\n */\nexport function repeat(_nextAnimation, numberOfReps = 2, reverse = false, callback) {\n    'worklet';\n    console.warn('Method `repeat` is deprecated. Please use `withRepeat` instead');\n    return withRepeat(_nextAnimation, numberOfReps, reverse, callback);\n}\nexport function loop(nextAnimation, numberOfLoops = 1) {\n    'worklet';\n    console.warn('Method `loop` is deprecated. Please use `withRepeat` instead');\n    return repeat(nextAnimation, Math.round(numberOfLoops * 2), true);\n}\n"],"mappings":"AAAA,SAASA,eAAe;AACxB,OAAO,SAASC,UAAU,CAACC,cAAc,EAA+C;EACpF,SAAS;;EAAC,IAD6BC,YAAY,uEAAG,CAAC;EAAA,IAAEC,OAAO,uEAAG,KAAK;EAAA,IAAEC,QAAQ;EAElF,OAAOL,eAAe,CAACE,cAAc,EAAE,YAAM;IACzC,SAAS;;IACT,IAAMI,aAAa,GAAG,OAAOJ,cAAc,KAAK,UAAU,GAAGA,cAAc,EAAE,GAAGA,cAAc;IAC9F,SAASK,MAAM,CAACC,SAAS,EAAEC,GAAG,EAAE;MAC5B,IAAMC,QAAQ,GAAGJ,aAAa,CAACK,OAAO,CAACL,aAAa,EAAEG,GAAG,CAAC;MAC1DD,SAAS,CAACI,OAAO,GAAGN,aAAa,CAACM,OAAO;MACzC,IAAIF,QAAQ,EAAE;QACVF,SAAS,CAACK,IAAI,IAAI,CAAC;QAGnB,IAAIP,aAAa,CAACD,QAAQ,EAAE;UACxBC,aAAa,CAACD,QAAQ,CAAC,IAAI,EAAiBG,SAAS,CAACI,OAAO,CAAC;QAClE;QACA,IAAIT,YAAY,GAAG,CAAC,IAAIK,SAAS,CAACK,IAAI,IAAIV,YAAY,EAAE;UACpD,OAAO,IAAI;QACf;QACA,IAAMW,UAAU,GAAGV,OAAO,GACpBE,aAAa,CAACM,OAAO,GACrBJ,SAAS,CAACM,UAAU;QAC1B,IAAIV,OAAO,EAAE;UACTE,aAAa,CAACS,OAAO,GAAGP,SAAS,CAACM,UAAU;UAC5CN,SAAS,CAACM,UAAU,GAAGA,UAAU;QACrC;QACAR,aAAa,CAACU,OAAO,CAACV,aAAa,EAAEQ,UAAU,EAAEL,GAAG,EAAEH,aAAa,CAACW,iBAAiB,CAAC;QACtF,OAAO,KAAK;MAChB;MACA,OAAO,KAAK;IAChB;IACA,IAAMC,WAAW,GAAG,SAAdA,WAAW,CAAIR,QAAQ,EAAK;MAC9B,IAAIL,QAAQ,EAAE;QACVA,QAAQ,CAACK,QAAQ,CAAC;MACtB;MAEA,IAAI,CAACA,QAAQ,IAAIJ,aAAa,CAACD,QAAQ,EAAE;QACrCC,aAAa,CAACD,QAAQ,CAAC,KAAK,CAAgB;MAChD;IACJ,CAAC;IACD,SAASW,OAAO,CAACR,SAAS,EAAEW,KAAK,EAAEV,GAAG,EAAEQ,iBAAiB,EAAE;MACvDT,SAAS,CAACM,UAAU,GAAGK,KAAK;MAC5BX,SAAS,CAACK,IAAI,GAAG,CAAC;MAClBP,aAAa,CAACU,OAAO,CAACV,aAAa,EAAEa,KAAK,EAAEV,GAAG,EAAEQ,iBAAiB,CAAC;IACvE;IACA,OAAO;MACHG,aAAa,EAAE,IAAI;MACnBT,OAAO,EAAEJ,MAAM;MACfS,OAAO,EAAPA,OAAO;MACPH,IAAI,EAAE,CAAC;MACPD,OAAO,EAAEN,aAAa,CAACM,OAAO;MAC9BP,QAAQ,EAAEa,WAAW;MACrBJ,UAAU,EAAE;IAChB,CAAC;EACL,CAAC,CAAC;AACN;AAIA,OAAO,SAASP,MAAM,CAACL,cAAc,EAA+C;EAChF,SAAS;;EAAC,IADyBC,YAAY,uEAAG,CAAC;EAAA,IAAEC,OAAO,uEAAG,KAAK;EAAA,IAAEC,QAAQ;EAE9EgB,OAAO,CAACC,IAAI,CAAC,gEAAgE,CAAC;EAC9E,OAAOrB,UAAU,CAACC,cAAc,EAAEC,YAAY,EAAEC,OAAO,EAAEC,QAAQ,CAAC;AACtE;AACA,OAAO,SAASkB,IAAI,CAACjB,aAAa,EAAqB;EACnD,SAAS;;EAAC,IADsBkB,aAAa,uEAAG,CAAC;EAEjDH,OAAO,CAACC,IAAI,CAAC,8DAA8D,CAAC;EAC5E,OAAOf,MAAM,CAACD,aAAa,EAAEmB,IAAI,CAACC,KAAK,CAACF,aAAa,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC;AACrE"},"metadata":{},"sourceType":"module"}